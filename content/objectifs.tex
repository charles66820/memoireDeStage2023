\section{Problématiques / Objectifs} % problématiques

\subsection{Sujet}

Le sujet est \emph{Interruptions en espace utilisateur pour le réseau BXI}.

\subsubsection{Nouveau mécanisme d'interruption en espace utilisateur}

Ce nouveau mécanisme qui permet de dérouler une interruption à partir de l'espace utilisateur et très récent.
Il est seulement disponible sur les processeur \intel{} Sapphire Rapids qui sont officiellement sortis le 10 janvier 2023.
% https://www.datacenterknowledge.com/intel/intel-launches-sapphire-rapids-after-4-delays-it-worth-it
La plupart des processeur ont été disponibles à la vente le 14 mars.
% https://www.intel.com/content/www/us/en/newsroom/news/4th-gen-intel-xeon-sprints-into-market.html
AMD n'a pas encore annoncé de de support pour les interruption en espace utilisateur.

\subsubsection{contentions...} % contention mémoire autour du polling

Le fonctionnement actuelle de la progression des communications amène à des problèmes de contention mémoire car plusieurs threads peuvent chercher à lire / modifier la même zone mémoire.
Utiliser les interruptions permettrai de ne plus avoir ce problèmes car seul le thread concerné par une zone mémoire serai prévenu.

TODO: 

\subsection{Ne plus faire de Polling}

Dans la plupart des autre domain les périphériques envoi une interruption à l'application pour avertir d'un changement.
Souvent on passe par les signaux ou un appel système bloquante.
L'idée du stage est de ne plus avoir à faire du polling et utiliser les interruptions comme dans les autre domains.

\subsection{Objectifs}

Il y a plusieurs objects. Les principaux sont :

\begin{itemize}
  \item La réduction du temps de calcul.
  \item utiliser des interruptions en espace utilisateur pour replacé le polling.
  \item Simplifier pour l'utilisateur le recouvrement des communications par du calcul pour qu'il n'est plus à ajouter des \code{MPI_Test} en pleins milieu de ces calcul.
  \item Amélioré la réactivité des communications sans qu'il y est besoin d'une unité de calcul dédier à l'attente active.
\end{itemize}

\subsubsection{Objectifs global}

Le stage s'inscrit dans un objectif globale qui est de faire progresser les communications entre plusieurs noeuds du réseau BXI sans faire de polling et en utilisant les interruptions en espace utilisateur.
Cette objectif permet de réduire globalement le temps de calcul d'une application.
Pour ce faire la carte réseau BXI devra être capable de levé des interruptions en espace utilisateur.
Le fait de supprimer le polling et de réduire le temps de calcul permettra de diminué la consomption électrique.

% remonter les évènements réseau jusque la bibliothèque NewMadeleine avec un coût aussi faible que possible.

\subsubsection{Objectifs du stage}

Le premier objectif est de défricher le fonctionnement des interruption en espace utilisateur à partir du manuel \intel{} de l'architectures 64 et IA-32 pour les développeurs logiciels, de la présentation\footnote{Qui est une diapositive associer à des discussion sur LWN.net}\footnote{\url{https://lwn.net/Articles/869140/}} du mécanisme de Sohil Mehta\footnote{Ingénieur \intel{} qui à développé le patch noyau} et du patch du noyau linux avec ces manuels.
Le second objectif est de connaître les propriétés du mécanisme et de mesuré ça performance.
Le troisième objectif est d'envisager l'intégration de ces interruption dans le driver de mémoire partagé (shm) de NewMadeleine.
L'objectif est de testé dans un premier temps le fonctionnement avec des communications entre processus (IPC\footnote{Inter Process Communication} en anglais).
Pour intégrer les interruption dans les drivers NewMadeleine il faut également permettre la progression des communications à partir d'un handler d'interruption.
Le dernier objectif est de montré que l'utilisation d'interruption permet bien d'amélioré le recouvrement des communications par du calcul.

% cite : Intel\textsuperscript{\tiny{\textregistered}} 64 and IA-32 Architectures Software Developer's Manual
